function sucomInitMetabox(e,a){var t="table.sucom-settings";void 0!==e&&e&&(t=e+" "+t),jQuery(t+" input.colorpicker").wpColorPicker(),jQuery(t+" input.datepicker").datepicker({dateFormat:"yy-mm-dd"}),jQuery(t+" select#select_og_schema_type").show(sucomSchemaTypeOgType),jQuery(t+" select#select_og_schema_type").change(sucomSchemaTypeOgType),jQuery(t+' input[type="checkbox"]').blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(t+' input[type="text"]').blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(t+" textarea").blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(t+" select").blur(sucomMarkChanged).change(sucomMarkChanged),jQuery(document).on("click",t+' input[type="checkbox"][data-group]',function(e){var a=jQuery(this),t=a.prop("checked"),n=a.data("group"),r=jQuery('input[type="checkbox"][data-group="'+n+'"]');r.prop("checked",t),r.addClass("changed")}),jQuery(document).trigger("sucom_init_metabox",[e,a]),a&&jQuery(t+" tr").each(function(){"none"!==jQuery(this).css("display")&&jQuery(this).show()})}function sucomSelectLoadJson(e,a){if(!e)return!1;if(!window[a+"_array_keys"]||!window[a+"_array_values"])return!1;var t=jQuery(e+":not( .json_loaded )");if(!t.length)return!1;t.addClass("json_loaded");var n=t.data("default-value"),r=t.data("default-text"),o=t.val(),c="";jQuery.each(window[a+"_array_keys"],function(e,t){label_transl=window[a+"_array_values"][e],c+='<option value="'+t+'"',t==o&&(c+=' selected="selected"'),n==t&&(label_transl+=" "+r),c+=">"+label_transl+"</option>"}),t.empty(),t.append(c)}function sucomEscAttr(e){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};return String(e).replace(/[&<>"']/g,function(e){return a[e]})}function sucomSchemaTypeOgType(){var e=jQuery(this).val(),a={action:sucomAdminPageL10n._ajax_actions.schema_type_og_type,schema_type:e,_ajax_nonce:sucomAdminPageL10n._ajax_nonce};jQuery.post(ajaxurl,a,function(e){var a=jQuery("div#og_type_linked"),t=jQuery("select#select_og_type"),n=t.val(),r=t.attr("data-default-value");if(a.length&&jQuery(a).remove(),e){var o=sucomAdminPageL10n._option_labels.schema_type,c=sucomAdminPageL10n._linked_to_msg.replace(/%s/,o);t.after('<div id="og_type_linked" class="dashicons dashicons-admin-links linked_to_msg" title="'+c+'"></div>'),t.prop("disabled",!0),e!==n&&t.trigger("load_json").val(e).trigger("change")}else a.length&&(t.prop("disabled",!1),void 0!==r&&r!==n&&t.trigger("load_json").val(r).trigger("change"))})}function sucomTextLen(e){var a=jQuery.trim(sucomClean(jQuery("#"+e).val())).length,t=Number(jQuery("#"+e).attr("minLength")),n=Number(jQuery("#"+e).attr("warnLength")),r=Number(jQuery("#"+e).attr("maxLength")),o="{0} characters";t&&r&&r<t&&(r=t);var c=sucomLenSpan(a,r,n,t),s=r;t?r?(r>t&&(s=String(t)+"-"+String(r)),o="{0} of {1} characters required",sucomAdminPageL10n._req_len_msg||(o=sucomAdminPageL10n._req_len_msg)):(s=t,o="{0} of {1} characters minimum",sucomAdminPageL10n._min_len_msg||(o=sucomAdminPageL10n._min_len_msg)):r?(o="{0} of {1} characters maximum",sucomAdminPageL10n._max_len_msg||(o=sucomAdminPageL10n._max_len_msg)):sucomAdminPageL10n._len_msg||(o=sucomAdminPageL10n._len_msg),jQuery("#"+e+"-lenMsg").html('<div class="text_len_msg">'+o.formatUnicorn(c,s)+"</div>")}function sucomLenSpan(e,a,t,n){n||(n=0),a||(a=0),t||(t=a?a-20:0);return'<span class="'+(n&&e<n?"bad":n&&e>=n?"good":a&&e>=a-5?"bad":t&&e>=t?"warn":"good")+'">'+e+"</span>"}function sucomClean(e){if(void 0===e||!e.length)return"";try{e=(e=e.replace(/<\/?[^>]+>/g,"")).replace(/\[(.+?)\](.+?\[\/\\1\])?/,"")}catch(e){}return e}function sucomTabs(e,a,t){var n="sucom-tabset"+(e=e||"_default")+"-tab"+(a=a||"_default"),r=window.location.hash;if(r=""===r?n:-1===r.search("sucom-tabset"+e+"-tab_")?n:r.replace("#",""),jQuery("."+r).addClass("active"),jQuery("."+r+"-msg").addClass("active"),jQuery("a.sucom-tablink"+e).click(function(){jQuery(".sucom-metabox-tabs"+e+" li").removeClass("active"),jQuery(".sucom-tabset"+e).removeClass("active"),jQuery(".sucom-tabset"+e+"-msg").removeClass("active");var a=jQuery(this).attr("href").replace("#","");jQuery("."+a).addClass("active"),jQuery("."+a+"-msg").addClass("active"),jQuery(this).parent().addClass("active")}),jQuery(".sucom-metabox-tabs").show(),t){var o=jQuery("div#wpadminbar").height(),c=jQuery(t).offset().top+o;jQuery("html, body").stop(!0,!0).animate({scrollTop:c},"fast")}}function sucomViewUnhideRows(e,a,t){t=t||"hide_in",e&&(jQuery("div."+e).find("."+t+"_"+a).show(),jQuery("."+e+"-msg").hide())}function sucomSelectChangeUnhideRows(e,a){e&&(e=e.replace(/[:\/\-\. ]+/g,"_"),jQuery("tr."+e).hide()),a&&(a=a.replace(/[:\/\-\. ]+/g,"_"),jQuery("tr."+a).show())}function sucomSelectChangeRedirect(e,a,t){url=t+jQuery(location).attr("hash"),window.location=url.replace("%%"+e+"%%",a)}function sucomMarkChanged(){jQuery(this).addClass("changed")}function sucomDisableUnchanged(e){var a="table.sucom-settings";void 0!==e&&e&&(a=e+" "+a),jQuery(a+' input[type="checkbox"]:not( .changed )').each(function(){jQuery(this).prop("disabled",!0);var e=jQuery(this).attr("name");void 0!==e&&e&&(hidden_checkbox_name=e.replace(/^(.*)\[(.*)\]$/,"$1\\[is_checkbox_$2\\]"),jQuery(a+' input[name="'+hidden_checkbox_name+'"]').remove())}),jQuery(a+' input[type="text"]:not( .changed )').prop("disabled",!0),jQuery(a+" textarea:not( .changed )").prop("disabled",!0),jQuery(a+" select:not( .changed )").prop("disabled",!0)}function sucomToggle(e){return jQuery("#"+e).toggle(),!1}jQuery(document).ready(function(){sucomInitMetabox()}),String.prototype.formatUnicorn=String.prototype.formatUnicorn||function(){"use strict";var e=this.toString();if(arguments.length){var a,t=typeof arguments[0],n="string"===t||"number"===t?Array.prototype.slice.call(arguments):arguments[0];for(a in n)e=e.replace(new RegExp("\\{"+a+"\\}","gi"),n[a])}return e};